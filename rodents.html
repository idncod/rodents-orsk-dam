<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rodents vs Dam</title>
<style>
</style>
</head>
<body>
<button id="startButton">Eat Orsk Dam!</button>
<script>
  const damElement = document.createElement('div');
  damElement.style.backgroundColor = '#8B795E';
  damElement.style.width = '300px';
  damElement.style.height = '50px';
  damElement.style.position = 'absolute';
  damElement.style.left = '50%';
  damElement.style.transform = 'translateX(-50%)';
  damElement.style.bottom = '0';
  damElement.style.zIndex = '1';
  document.body.appendChild(damElement);

  const floodElement = document.createElement('div');
  floodElement.style.backgroundColor = '#00BFFF';
  floodElement.style.width = '100%';
  floodElement.style.height = '0';
  floodElement.style.position = 'absolute';
  floodElement.style.bottom = '50px';
  floodElement.style.zIndex = '0';
  document.body.appendChild(floodElement);

  const rats = ['🐀', '🐁', '🐭', '🐹', '🐿️', '🦔', '🦝', '🦨', '🦡'];
  const ratElements = [];

  const createRats = () => {
    const numRats = Math.floor(window.innerWidth / 50);
    for (let i = 0; i < numRats; i++) {
      const ratElement = document.createElement('div');
      ratElement.style.position = 'absolute';
      ratElement.style.bottom = '25px';
      ratElement.style.left = Math.random() * window.innerWidth + 'px';
      ratElement.style.zIndex = '2';
      ratElement.textContent = rats[Math.floor(Math.random() * rats.length)];
      document.body.appendChild(ratElement);
      ratElements.push(ratElement);
      animateRat(ratElement);
    }
  };

  const animateRat = (ratElement) => {
    const ratAnimation = setInterval(() => {
      const distance = Math.random() * 10;
      const direction = Math.random() < 0.5 ? -1 : 1;
      const left = parseFloat(ratElement.style.left);
      const newLeft = left + distance * direction;
      if (newLeft < -20 || newLeft > window.innerWidth + 20) {
        clearInterval(ratAnimation);
        ratElement.remove();
      } else {
        ratElement.style.left = newLeft + 'px';
      }
    }, 100);
  };

  const animateFlooding = () => {
    let floodHeight = 0;
    const floodAnimation = setInterval(() => {
      floodHeight++;
      floodElement.style.height = floodHeight + 'px';
      if (floodHeight >= window.innerHeight) {
        clearInterval(floodAnimation);
        console.log('The city is flooded!');
      }
    }, 20);
  };

  document.getElementById('startButton').addEventListener('click', () => {
    createRats();
    animateFlooding();
  });
</script>
</body>
</html>
